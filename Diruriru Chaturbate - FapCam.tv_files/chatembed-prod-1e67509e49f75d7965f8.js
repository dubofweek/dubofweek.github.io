"use strict";(self.webpackChunk_multimediallc_cb_ts=self.webpackChunk_multimediallc_cb_ts||[]).push([[956],{55949:(e,t,i)=>{i.d(t,{H:()=>_});var n=i(99447),s=i(23910),o=i(79461),a=i(66844),l=i(32939),r=i(92709),d=i(63955),h=i(76478),p=i(95091),c=i(63448),m=i(74),u=i(71474),y=i(44947),v=i(11372),g=i(97869);class S extends g.w{createElement(){return(0,v.tT)("a",{bind:{className:()=>"panelLink promoteRoomLink "+(this.state.isActive?"active":"disabled")},title:y.Ru.promoteThisRoom,onClick:()=>{this.clickHandler()}},y.Ru.promoteThisRoom)}}var f=i(69757),C=i(3956),b=i(20369),x=i(64480),w=i(91848),k=i(50213),P=i(65216),T=i(17322),R=i(23971),L=i(78423),B=i(33737),W=i(86716),M=i(34580),H=i(40034),A=i(75424),E=i(33741),O=i(43860),V=i(93456);class D extends r.u{constructor(e,t){super(),this.player=e,this.leavePrivateOrSpyPending=!1,this.hasWaitAfterRoomLoadElapsed=!1,this.privateShowActive=!1,this.privateShowReqestPending=!1,this.draggableCanvas=t,this.element.id="VideoPanel",this.element.dataset.testid="video-panel",this.element.style.position="",this.element.style.display="inline-block",this.element.style.borderRadius="2px",this.element.style.boxSizing="border-box",this.element.style.height="auto",this.element.style.fontFamily="UbuntuRegular, Helvetica, Arial, sans-serif",this.element.style.fontSize="11px",this.element.style.overflow="visible",E.qH.setUCMContainer(this.element),this.topSection=document.createElement("div"),this.topSection.className="playerTitleBar",this.element.appendChild(this.topSection);const i=document.createElement("div");this.topSection.appendChild(i);const s=new(f.c.get("AbuseLinkSection"))({roomName:""},i);(0,d.ZM)(i,{margin:"0px 7px -5px 0px",paddingTop:"3px",fontFamily:"UbuntuMedium,Helvetica,Arial,sans-serif",fontSize:"10px"});const o=document.createElement("div");o.dataset.testid="roomSubjectContainer",this.topSection.appendChild(o);const a=new(f.c.get("RoomSubject"))({text:"",toolTipWidth:c.LQ,roomName:""},o);o.style.fontFamily="UbuntuMedium,Helvetica,Arial,sans-serif",this.roomSubject=a,this.player.addDraggableCanvas(t),this.addChild(this.player),this.bottomSection=new w.m,T.bt&&(0,d.ZM)(this.bottomSection.element,{display:"flex",flexWrap:"wrap-reverse",justifyContent:"space-between"}),this.bottomSection.element.style.overflow="",this.bottomSectionDisplay=this.bottomSection.element.style.display,this.addChild(this.bottomSection),this.appPanelHolder=document.createElement("span"),this.appPanelHolder.style.width=T.bt?"320px":`${T.un}px`,this.appPanelHolder.style.height=`${T.zZ}px`,this.appPanelHolder.style.display="inline-block",this.appPanelHolder.style.verticalAlign="top",this.appPanelHolder.style.margin="0",this.bottomSection.element.appendChild(this.appPanelHolder),this.appPanel=this.getAppPanel(),this.appPanel.panelUpdated.listen((()=>{if("split"===O.L.getVideoMode()){for(;null!==this.appPanelHolder.firstChild;)this.appPanelHolder.removeChild(this.appPanelHolder.firstChild);T.bt?this.appPanelHolder.appendChild(this.appPanel.element):this.appPanelHolder.appendChild(this.appPanel.element.cloneNode(!0))}})),this.tipSection=document.createElement("div"),(0,n.fZ)(this.tipSection,n.aG.defaultColor),this.tipSection.style.height="69px",this.tipSection.style.boxSizing="border-box",this.tipSection.style.fontSize="11px",this.tipSection.style.overflow="hidden",this.tipSection.style.display="inline-block",this.tipSection.style.verticalAlign="top",this.tipSection.style.margin="0",this.bottomSection.element.appendChild(this.tipSection),this.tipSection.dataset.paction="CurrentShowBuyBox",this.tipSection.dataset.testid="buy-box";const{showMyCamLink:r,exhibitionistNotice:h,rightPanel:p}=this.rightPanel();this.listenerGroup=new L.gt,window.setTimeout((()=>{this.hasWaitAfterRoomLoadElapsed=!0}),R.$),this.sendTipButton=function(e){const t=document.createElement("span");return t.innerText=e,t.title=e,t.style.overflow="hidden",t.style.lineHeight="1.4",t.style.height="24px",t.style.maxWidth="76px",t.style.fontSize="12px",t.style.fontFamily="UbuntuMedium, Helvetica, Arial, sans-serif",t.style.margin="11px 0px 11px 0px",t.style.textOverflow="ellipsis",t.style.padding="3px 10px 3px",t.style.boxSizing="border-box",t.style.cursor="pointer",t.style.display="none",t.style.borderWidth="1px",t.style.borderStyle="solid",t}(y.Ru.sendTipButtonCAPS),this.sendTipButton.id="sendTipButton",this.sendTipButton.dataset.testid="send-tip-button",(0,n.fZ)(this.sendTipButton,"sendTipButton"),this.sendTipButton.style.marginRight="4px",p.appendChild(this.sendTipButton),this.sendTipButton.onclick=()=>{m.i5.fire({})},O.L.changeVideoMode.listen((e=>{this.bottomSection.element.style.display="none",this.topSection.style.display="block",this.appPanelHolder.style.display="none",this.tipSection.style.display="none";const t=e.currentMode;switch(t){case"split":this.bottomSection.element.style.display=this.bottomSectionDisplay,this.appPanelHolder.style.display="inline-block",this.tipSection.style.display="inline-block";break;case"fullscreen":case"noninteractive-fullscreen":this.topSection.style.display="none"}this.privateShowReqestPending&&(0,V.Sz)()&&("split"===t?m.Ne.fire(void 0):(m.ef.fire(void 0),void 0===this.draggableCanvas.privateWindow&&W.F_.fire(void 0))),this.updateAppPanel()})),b.oO.listen((()=>{T.bt&&"split"===O.L.getVideoMode()||this.updateAppPanel()})),l.Gr.listen((()=>{this.listenerGroup.removeAll()})),l.X0.listen((e=>{this.updateSubject(e,s,a);const t=isNaN(e.dossier.tokenBalance)?0:e.dossier.tokenBalance;this.tokenBalance.innerText=`${t}`,this.tokenBalanceSuffix.innerText=` ${y.Ru.tokenOrTokensText(t,!1)}`,this.isAgeVerified=e.dossier.isAgeVerified,this.isBroadcaster=e.dossier.viewerUid===e.dossier.roomUid;let i=e.dossier.allowPrivateShow;(0,V.Sz)()&&m.Sj.listen((()=>{this.privateShowActive||(this.privateShowReqestPending&&(0,H.yx)(e.chatConnection,!1,{}),m.ef.fire(void 0),this.resetPrivateShowLink(e.chatConnection,e.chatConnection.status))})).addTo(this.listenerGroup),this.isAgeVerified?(this.sendTipButton.style.display="inline-block",h.style.display="none",e.chatConnection.event.settingsUpdate.listen((t=>{i=t.allowPrivateShow,t.allowPrivateShow||m.ef.fire(void 0),this.updatePrivateState(i,e.chatConnection,e.chatConnection.status)})),e.chatConnection.event.statusChange.listen((t=>{const n=()=>{this.updatePrivateState(i,e.chatConnection,t.currentStatus)};(0,A.fs)(e,t)?n():(0,A._b)(e,t).then(n).catch((()=>{})),(0,V.Sz)()&&this.handlePrivateShowRequestTooltip(t)}))):(this.sendTipButton.style.display="none",this.updatePrivateState(!1,e.chatConnection,e.dossier.roomStatus),h.style.display="block",h.style.position="absolute",h.style.top="54px"),this.setupListeners(i,e,a),this.hasWaitAfterRoomLoadElapsed=!1,window.setTimeout((()=>{this.hasWaitAfterRoomLoadElapsed=!0}),R.$),"offline"===e.dossier.roomStatus?r.style.display="none":r.style.display="block"})),u.D.listen((e=>{this.tokenBalance.innerText=`${e.tokens}`,this.tokenBalanceSuffix.innerText=` ${y.Ru.tokenOrTokensText(e.tokens,!1)}`}))}getAppPanel(){return T.bt?new T.yc:this.draggableCanvas.chatWindow.chatTabContainer.chatTab.appPanelChat.appPanel}rightPanel(){const e=document.createElement("div");e.style.boxSizing="border-box",e.style.verticalAlign="top",e.style.display="inline-block",e.style.verticalAlign="top",e.style.padding="2px 10px",this.tipSection.appendChild(e);const t=document.createElement("div");(0,n.fZ)(t,"currentBalance"),t.style.display="block",t.style.height="19px",e.appendChild(t);const i=document.createElement("span");i.innerText=y.Ru.currentHaveText,t.appendChild(i),this.tokenBalance=document.createElement("span"),this.tokenBalance.innerText="0",this.tokenBalance.style.fontSize="15px",this.tokenBalance.style.fontFamily="UbuntuBold, Helvetica, Arial, sans-serif",t.appendChild(this.tokenBalance),this.tokenBalanceSuffix=document.createElement("span"),this.tokenBalanceSuffix.innerText=" tokens",t.appendChild(this.tokenBalanceSuffix);const s=document.createElement("div");if(s.style.display="inline-block",s.style.verticalAlign="top",s.style.width="130px",s.style.textOverflow="ellipsis",s.style.overflow="hidden",s.style.whiteSpace="nowrap",e.appendChild(s),(0,B.Js)("VwrPrmA")){const e=new S({});s.appendChild(e.element)}else{const e=this.createPanelLink(y.Ru.getMoreTokensTitled);e.style.margin="2px 0 0 0",e.href=(0,P._Y)(`${x.bv}?source=${o.B.current.PurchaseEventSources.TOKEN_SOURCE_SPLIT_MODE_VIDEO_PANEL}`),e.onclick=()=>((0,x.di)({source:o.B.current.PurchaseEventSources.TOKEN_SOURCE_SPLIT_MODE_VIDEO_PANEL,target:e}),!1),s.appendChild(e)}const a=this.createPanelLink(y.Ru.showMyCamShow);(0,C.Md)(a,this.player.videoOfflineChange)&&s.appendChild(a),this.privateShowLink=this.createPanelLink(y.Ru.privateShowStartLabel),this.privateShowLink.dataset.testid="private-show-control-link",this.privateShowLink.style.display="none",s.appendChild(this.privateShowLink);const l=document.createElement("div");return l.innerText=y.Ru.broadcasterDoesNotAcceptTips,l.style.display="none",e.appendChild(l),{showMyCamLink:a,exhibitionistNotice:l,rightPanel:e}}updateSubject(e,t,i){t.update({roomName:e.dossier.room}),i.update({text:e.dossier.roomTitle})}setupListeners(e,t,i){M.Io.listen((()=>{this.updatePrivateState(e,t.chatConnection,t.dossier.roomStatus)})).addTo(this.listenerGroup),t.chatConnection.event.titleChange.listen((e=>{i.update({text:e})})).addTo(this.listenerGroup)}updateAppPanel(){if("split"===O.L.getVideoMode())this.appPanel.element.style.padding="0",this.appPanel.panelUpdated.fire(void 0);else{for(;null!==this.appPanelHolder.firstChild;)this.appPanelHolder.removeChild(this.appPanelHolder.firstChild);this.appPanel.element.style.padding="3px 5px",this.hasWaitAfterRoomLoadElapsed?this.draggableCanvas.chatWindow.chatTabContainer.chatTab.appPanelChat.updatePanel():window.setTimeout((()=>{this.draggableCanvas.chatWindow.chatTabContainer.chatTab.appPanelChat.updatePanel()}),R.$)}this.appPanelHolder.style.maxWidth=T.bt?"320px":`${T.un}px`}createPanelLink(e){const t=document.createElement("a");return(0,n.fZ)(t,"panelLink"),t.innerText=e,t.title=e,t.style.lineHeight="1.3",t.style.display="block",t.style.maxWidth="130px",t.style.overflow="hidden",t.style.textOverflow="ellipsis",t.style.textDecoration="none",t.style.cursor="pointer",t.onmouseenter=()=>{t.style.textDecoration="underline"},t.onmouseleave=()=>{t.style.textDecoration="none"},t}resetPrivateShowLink(e,t){this.privateShowLink.innerText=y.Ru.privateShowStartLabel,this.privateShowLink.style.display="block",this.privateShowLink.style.maxWidth="130px",this.privateShowLink.onclick=()=>{(0,H.UK)(e)}}handlePrivateShowRequestTooltip(e){switch(e.currentStatus){case"privatenotwatching":case"privatespying":case"offline":case"away":case"hidden":case"hiddenwatching":case"notconnected":case"passwordprotected":case"public":this.privateShowActive=!1,this.privateShowReqestPending=!1,m.ef.fire(void 0);break;case"privaterequesting":this.privateShowActive=!1,this.privateShowReqestPending=!0,"theater"===O.L.getVideoMode()?(m.ef.fire(void 0),void 0===this.draggableCanvas.privateWindow&&W.F_.fire(void 0)):"split"===O.L.getVideoMode()&&m.Ne.fire(void 0);break;case"privatewatching":this.privateShowReqestPending=!1,this.privateShowActive=!0}}updatePrivateState(e,t,i){if(this.privateShowLink.innerText=y.Ru.privateShowStartLabel,!e&&-1===["privaterequesting","privatewatching","privatespying"].indexOf(i)||this.isBroadcaster)return void(this.privateShowLink.style.display="none");this.privateShowLink.style.display="block",this.privateShowLink.onclick=()=>{(0,H.UK)(t)};const n=e=>{e.preventDefault(),this.leavePrivateOrSpyPending||(this.leavePrivateOrSpyPending=!0,(0,k.mf)(y.Ru.areYouSure,(()=>{(0,H.yx)(t,!1,{onFinally:()=>{this.leavePrivateOrSpyPending=!1}})}),(()=>{this.leavePrivateOrSpyPending=!1})))};switch((0,V.Sz)()&&this.updatePrivateShowBadge(i),i){case"privaterequesting":this.privateShowLink.innerText=y.Ru.privateShowRequestCancelMessage,this.privateShowLink.style.maxWidth="130px",this.privateShowLink.onclick=n;break;case"privatenotwatching":this.privateShowLink.innerText=y.Ru.privateShowSpyLabel,this.privateShowLink.style.maxWidth="130px",this.privateShowLink.onclick=()=>{(0,H.lh)(t)};break;case"privatewatching":case"privatespying":this.privateShowLink.innerText=y.Ru.privateShowLeaveLabel,this.privateShowLink.style.maxWidth="100px",this.privateShowLink.onclick=n;break;case"offline":case"away":case"hidden":case"hiddenwatching":case"notconnected":this.privateShowLink.style.display="none",this.privateShowLink.style.maxWidth="130px";break;case"passwordprotected":case"public":break;default:warn(`unexpected status for updatePrivateState: ${i}`)}}updatePrivateShowBadge(e){if("privatewatching"===e){const e=o.A.getState();this.roomSubject.update({privateShowBroadcasting:!0,roomName:e.room})}else this.roomSubject.update({privateShowBroadcasting:!1})}}var z=i(4110);class _ extends r.u{constructor(e,t){super(),this.roomContentsPadding=4,this.player=e,this.draggableCanvas=t,(0,n.fZ)(this.element,"BaseRoomContents"),this.element.style.position="static",this.element.style.display="block",this.element.style.height="auto",this.element.style.borderRadius="4px",this.element.style.padding=`${this.roomContentsPadding}px`,this.element.style.margin="12px 0 17px 12px",this.element.style.overflow="visible",this.element.style.boxSizing="border-box",this.offlineContentContainer=document.createElement("div"),(0,n.fZ)(this.offlineContentContainer,"offlineContentContainer"),this.offlineContentContainer.style.display="none",this.element.appendChild(this.offlineContentContainer);const i=document.createElement("div");(0,n.fZ)(i,"offlineRoomNotice"),i.innerText=y.Ru.roomOfflineMessage,i.style.fontFamily="UbuntuRegular, Arial, Helvetica, sans-serif",i.style.fontSize="12px",i.style.fontWeight="bold",i.style.margin="13px 0",this.offlineContentContainer.appendChild(i),this.sendTipButton=this.createSendButton(y.Ru.sendTipButtonCAPS),this.sendTipButton.dataset.testid="send-tip-button",(0,n.fZ)(this.sendTipButton,"sendTipButton"),this.sendTipButton.style.display="none",this.sendTipButton.onclick=()=>{m.i5.fire({})},this.offlineContentContainer.appendChild(this.sendTipButton),this.sendDMButton=this.createSendButton(y.Ru.sendDmCAPS),(0,n.fZ)(this.sendDMButton,"sendDMButton"),this.sendDMButton.style.display="none",this.sendDMButton.onclick=()=>{(0,a.rC)(y.Ru.loggedInToDm)||s.$o.fire(o.A.getState().room)},this.offlineContentContainer.appendChild(this.sendDMButton),this.topSectionWrapper=document.createElement("div"),(0,n.fZ)(this.topSectionWrapper,"topSectionWrapper"),this.topSectionWrapper.style.width="100%",this.topSectionWrapper.style.height="auto",this.topSectionWrapper.style.position="relative",this.topSectionWrapper.style.display="grid",this.topSectionWrapper.style.gridTemplateColumns="auto auto 1fr",this.element.appendChild(this.topSectionWrapper),this.videoPanel=this.addChild(new D(this.player,this.draggableCanvas),this.topSectionWrapper),this.resizeHandle=this.addChild(this.createResizeHandle(),this.topSectionWrapper),this.chatTabContainer=this.addChild(new h.n,this.topSectionWrapper),z.n2.listen((e=>{r?m.pL.fire(!0):"split"===O.L.getVideoMode()&&(void 0===this.emojiSelectionModal&&(this.emojiSelectionModal=new p.I((()=>this.chatTabContainer.getCurrentTab().getChatInputField()))),this.emojiSelectionModal.show(e))}));let r=!0;l.X0.listen((e=>{var t;r=e.chatConnection.viewerIsAnonymous(),e.dossier.isAgeVerified&&(this.sendTipButton.style.display="inline-block"),e.dossier.room!==(null===(t=o.B.current.loggedInUser)||void 0===t?void 0:t.username)&&(this.sendDMButton.style.display="inline-block")}))}showOfflineContent(){this.topSectionWrapper.style.position="fixed",this.topSectionWrapper.style.top="999999px",this.dismissibleMessages.element.style.display="none",this.modeToggleDiv.style.display="none",this.offlineContentContainer.style.display="block"}hideOfflineContent(){this.topSectionWrapper.style.position="relative",this.topSectionWrapper.style.top="",this.dismissibleMessages.element.style.display="block",this.modeToggleDiv.style.display="block",this.offlineContentContainer.style.display="none"}createSendButton(e){const t=document.createElement("span");return t.textContent=e,t.title=e,(0,d.ZM)(t,{display:"inline-block",minWidth:"74px",textAlign:"center",fontFamily:"UbuntuMedium, Helvetica, Arial, sans-serif",padding:"4px 10px",margin:"11px 4px 13px 0px",boxSizing:"border-box",cursor:"pointer",borderWidth:"1px",borderStyle:"solid"}),t}createResizeHandle(){return new c.XA(this)}repositionChildren(){this.chatTabContainer.element.style.width=this.element.clientWidth-this.videoPanel.element.offsetWidth-16+"px"}}},3786:(e,t,i)=>{var n=i(72303),s=i(7821),o=i(99447),a=i(79461),l=i(64480),r=i(65216),d=i(61413),h=i(63955),p=i(90966),c=i(40819),m=i(27407),u=i(10580),y=i(75424),v=i(69439),g=i(93456),S=i(6283),f=i(44947),C=i(92945),b=i(43860),x=i(1403);class w extends x.u{constructor(e){super(e)}chooseNoAutoplayHlsSubstitute(){return"jpeg"}isEmbed(){return!0}}var k=i(55949),P=i(1282),T=i(63448);class R extends T.XA{constructor(e,t){super(e),this.roomContents=e,this.videoOnly=t}setResolutionToMax(){let e=this.getMaxVideoWidth(),t=this.getHeightFromWidth(e);t>this.getMaxVideoHeight()&&(t=this.getMaxVideoHeight(),e=this.getWidthFromHeight(t)),!this.videoOnly&&(t<T.LH||e<T.LQ)&&(e=T.LQ+2,t=this.getHeightFromWidth(e)),this.state.videoWidth=e,this.state.videoHeight=t}handleResize(){arguments.length>0&&void 0!==arguments[0]||this.state.videoWidth,this.setResolutionToMax(),"split"===b.L.getVideoMode()&&(this.roomContents.videoPanel.element.style.width=`${this.state.videoWidth}px`,this.roomContents.videoPanel.player.element.style.height=`${this.state.videoHeight}px`,this.roomContents.chatTabContainer.element.style.width=this.roomContents.element.clientWidth-this.state.videoWidth-this.element.offsetWidth-2*this.roomContents.roomContentsPadding+"px")}getHeightFromWidth(e){return e*(this.roomContents.videoPanel.player.getIsWidescreen()?P.qL:P.Bu)+this.roomContents.videoPanel.player.playerComponent.getControlBarHeight()}getMaxVideoWidth(){return window.innerWidth-this.minChatWidth()-10}getMaxVideoHeight(){return window.innerHeight-116}minChatWidth(){return 200}}class L extends k.H{constructor(e,t,i){super(e,t),this.videoOnly=i,this.element.style.padding="0 0 10px",this.element.style.margin="0",this.element.style.overflow="hidden",this.draggableCanvas.element.style.display="none",this.resizeHandle.hideElement(),(0,o.fZ)(this.chatTabContainer.element,"embedChatTabContainer"),(0,h.ZM)(this.chatTabContainer.element,{borderRightWidth:"1px",borderRightStyle:"solid"})}minChatWidth(){return 200}createResizeHandle(){return new R(this,this.videoOnly)}repositionChildren(){this.videoOnly||this.resizeHandle.handleResize(),super.repositionChildren()}}let B=!1;class W extends d.J{constructor(e,t,i){super(e,t),this.roomName=e,this.inlineAutoplaySupported=t,this.isVideoOnly=i,this.sessionMetrics=new S.q,this.loading=Date.now(),document.getElementById("main").appendChild(this.element),this.element.style.lineHeight="normal",b.L.setVideoMode(i?"videoonly":"split",!0),this.setup()}setup(){this.setupAudio(),this.setupLoadRoom(this.roomName),this.setupLoginOverlay(),this.setupResizeHandlers(),(0,g.Sz)()&&this.setupPrivateShowRequestOverlay()}createContent(){if(this.player=this.createPlayer(),this.isVideoOnly){this.element.style.height="",this.element.style.overflow="visible",this.addChild(this.player);const e=this.createEmbedOverlay();document.body.appendChild(e)}else this.element.style.overflow="auto",this.roomContents=this.createRoomContents(),this.addChild(this.roomContents);b.L.setFireVideoMode(this.isVideoOnly?"videoonly":"split",{fire:!0})}createPlayer(){const e=new w(this.inlineAutoplaySupported);return e.playerComponent instanceof u.vS&&e.playerComponent.setPageLoaded(this.loading),this.isVideoOnly&&(e.element.style.position="absolute",e.element.style.top="0px",e.element.style.left="0px"),e}createRoomContents(){const e=new p.C,t=new L(this.player,e,this.isVideoOnly);return t.hideElement(),t.element.style.minWidth="800px",this.player.videoControls.fullscreenDiv=t.videoPanel.element,(0,v.RB)(e,t.chatTabContainer),this.setupTipCallout("embed",t.topSectionWrapper,t.videoPanel.sendTipButton),t}createEmbedOverlay(){const e=document.createElement("a"),t=document.createElement("div");e.appendChild(t);const i=(0,C.JO)(window.location.search),n={};void 0!==i.disable_sound&&(n.disable_sound=i.disable_sound);let s="_blank";void 0!==i.target&&(s=i.target);const o=(0,C.Go)(n);return e.href=(0,r._Y)(`/${this.roomName}/?${o}`),e.target=s,t.style.position="absolute",t.style.top="0",t.style.bottom="0",t.style.left="0",t.style.right="0",e}getRoomDossierPromise(e){return!B&&window.initialRoomDossier&&!0!==a.B.current.isLoadedFromCache?(0,y.sH)(e,window.initialRoomDossier):(0,y.Bc)(e)}onRoomDossierLoad(e,t){this.isRoomInitiallyOffline(e)?this.handleRoomInitiallyOffline():(this.createContent(),super.onRoomDossierLoad(e,t),(0,m.bT)("LoadRoom"),this.sessionMetrics.bindChatConnection(this.chatConnection))}handleRoomLoaded(e){var t;super.handleRoomLoaded(e),this.setDocumentTitle(e.dossier.room,e.dossier.roomTitle),null===(t=this.roomContents)||void 0===t||t.showElement(),this.viewerTipVolume=e.dossier.userChatSettings.viewerTipVolume,(0,l.hw)(e.dossier.tokenBalance),(0,c.p$)(e.chatConnection,e.dossier.exploringHashTag),this.repositionChildrenRecursive(),B||(B=!0)}handleSetWidescreen(e){super.handleSetWidescreen(e),this.player.setIsWidescreen(e)}handleRoomInitiallyOffline(){super.handleRoomInitiallyOffline(),this.displayRoomMessage(f.Ru.roomOfflineMessage)}handleRoomAccessDenied(e,t){this.displayRoomMessage(t.getString("detail"))}displayRoomMessage(e){const t=document.createElement("div");(0,o.fZ)(t,"BaseRoomContents"),(0,h.ZM)(t,{position:"static",display:"block",height:"auto",borderRadius:"4px",padding:"10px 0",margin:"0",overflow:"hidden",boxSizing:"border-box"}),t.innerText=e,this.element.appendChild(t)}repositionChildren(){var e;super.repositionChildren(),null===(e=this.roomContents)||void 0===e||e.resizeHandle.setResolutionToMax()}}var M=i(82359),H=i(31779);(0,s.h)(class extends s.y{parseContext(e){super.parseContext(e),this.context.isVideoOnly=e.embed_video_only,this.context.roomName=e.room_name,this.context.dmsEnabled=!1}init(){this.initRoom(),this.setupEmbeddedPlayer(),this.watchForAdIntervention(),(0,H.et)(),this.context.isVideoOnly||(super.setupEmoticonPreviewModal(),(0,M.If)())}initRoom(){this.context.isVideoOnly||super.initRoom()}setupEmbeddedPlayer(){(0,n.G)().then((e=>{new W(this.context.roomName,e,this.context.isVideoOnly)})).catch((()=>{}))}})}},e=>{var t=t=>e(e.s=t);e.O(0,[552,280,648,478],(()=>(t(4777),t(2021),t(25132),t(3786)))),e.O()}]);
//# sourceMappingURL=chatembed-prod-1e67509e49f75d7965f8.js.map